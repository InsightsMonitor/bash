const ERROR = 'error'

module.exports = {
  parser: 'babel-eslint',
  extends: 'eslint:recommended',
  env: {
    node: true,
  },
  plugins: ['import', 'flowtype', 'eslint-comments', 'react', 'prettier'],
  settings: {
    'import/parser': 'babel-eslint',
    flowtype: {
      onlyFilesWithFlowAnnotation: true,
    },
    react: {
      version: '16.5.2',
    },
  },
  parserOptions: {
    sourceType: 'module',
  },
  globals: {
    Promise: true,
  },
  rules: {
    'array-bracket-spacing': [ERROR, 'never'],
    'array-callback-return': ERROR,
    'arrow-parens': 0,
    'arrow-spacing': ERROR,
    'block-scoped-var': ERROR,
    'class-methods-use-this': 0,
    'comma-dangle': [ERROR, 'always-multiline'],
    'comma-spacing': ERROR,
    'consistent-return': ERROR,
    'constructor-super': ERROR,
    'default-case': [ERROR, { commentPattern: '^no default$' }],
    'dot-location': [ERROR, 'property'],
    'dot-notation': [ERROR, { allowKeywords: true }],
    'eol-last': ERROR,
    'generator-star-spacing': [ERROR, { before: false, after: true }],
    'guard-for-in': ERROR,
    'jsx-quotes': [ERROR, 'prefer-double'],
    'key-spacing': ERROR,
    'keyword-spacing': ERROR,
    'max-len': [ERROR, 400, 2],
    'newline-after-var': ERROR,
    'newline-before-return': ERROR,
    'no-await-in-loop': ERROR,
    'no-buffer-constructor': ERROR,
    'no-caller': ERROR,
    'no-case-declarations': ERROR,
    'no-class-assign': ERROR,
    'no-cond-assign': [ERROR, 'always'],
    'no-confusing-arrow': [ERROR, { allowParens: true }],
    'no-console': [ERROR, { allow: ['info', 'warn'] }],
    'no-const-assign': ERROR,
    'no-constant-condition': ERROR,
    'no-control-regex': ERROR,
    'no-debugger': ERROR,
    'no-delete-var': ERROR,
    'no-dupe-args': ERROR,
    'no-dupe-class-members': ERROR,
    'no-dupe-keys': ERROR,
    'no-duplicate-case': ERROR,
    'no-else-return': [ERROR, { allowElseIf: false }],
    'no-empty': [ERROR, { allowEmptyCatch: true }],
    'no-empty-character-class': ERROR,
    'no-empty-pattern': ERROR,
    'no-eval': ERROR,
    'no-ex-assign': ERROR,
    'no-extend-native': ERROR,
    'no-extra-bind': ERROR,
    'no-extra-boolean-cast': ERROR,
    'no-extra-label': ERROR,
    'no-extra-semi': 0,
    'no-fallthrough': ERROR,
    'no-floating-decimal': ERROR,
    'no-func-assign': ERROR,
    'no-global-assign': [ERROR, { exceptions: [] }],
    'no-implied-eval': ERROR,
    'no-inner-declarations': ERROR,
    'no-invalid-regexp': ERROR,
    'no-irregular-whitespace': ERROR,
    'no-iterator': ERROR,
    'no-label-var': ERROR,
    'no-labels': [ERROR, { allowLoop: false, allowSwitch: false }],
    'no-lone-blocks': ERROR,
    'no-loop-func': ERROR,
    'no-multi-spaces': [ERROR, { exceptions: { Property: false } }],
    'no-multi-str': ERROR,
    'no-multiple-empty-lines': [ERROR, { max: 1 }],
    'no-nested-ternary': ERROR,
    'no-new': ERROR,
    'no-new-func': ERROR,
    'no-new-symbol': ERROR,
    'no-new-wrappers': ERROR,
    'no-obj-calls': ERROR,
    'no-octal': ERROR,
    'no-octal-escape': ERROR,
    'no-param-reassign': [ERROR, { props: false }],
    'no-proto': ERROR,
    'no-prototype-builtins': ERROR,
    'no-redeclare': ERROR,
    'no-regex-spaces': ERROR,
    'no-restricted-globals': [ERROR],
    'no-return-assign': [ERROR, 'always'],
    'no-return-await': 0,
    'no-script-url': ERROR,
    'no-self-assign': ERROR,
    'no-self-compare': ERROR,
    'no-sequences': ERROR,
    'no-shadow': ERROR,
    'no-shadow-restricted-names': ERROR,
    'no-spaced-func': ERROR,
    'no-sparse-arrays': ERROR,
    'no-template-curly-in-string': ERROR,
    'no-this-before-super': ERROR,
    'no-throw-literal': 0,
    'no-trailing-spaces': ERROR,
    'no-undef': ERROR,
    'no-undef-init': ERROR,
    'no-unexpected-multiline': ERROR,
    'no-unneeded-ternary': ERROR,
    'no-unreachable': ERROR,
    'no-unsafe-finally': ERROR,
    'no-unsafe-negation': ERROR,
    'no-unused-expressions': ERROR,
    'no-unused-labels': ERROR,
    'no-unused-vars': [ERROR],
    'no-use-before-define': [ERROR],
    'no-useless-computed-key': ERROR,
    'no-useless-concat': ERROR,
    'no-useless-constructor': ERROR,
    'no-useless-escape': ERROR,
    'no-useless-return': ERROR,
    'no-var': ERROR,
    'no-void': ERROR,
    'no-with': ERROR,
    'object-curly-spacing': [ERROR, 'always'],
    'object-shorthand': ERROR,
    'one-var': [ERROR, 'never'],
    'prefer-const': ERROR,
    'prefer-numeric-literals': ERROR,
    'prefer-rest-params': ERROR,
    'prefer-spread': ERROR,
    'prefer-template': ERROR,
    'quote-props': [ERROR, 'as-needed'],
    'require-await': ERROR,
    'require-yield': ERROR,
    'rest-spread-spacing': [ERROR, 'never'],
    'semi-style': ERROR,
    'space-before-blocks': ERROR,
    'space-in-parens': ERROR,
    'space-infix-ops': ERROR,
    'switch-colon-spacing': ERROR,
    'symbol-description': ERROR,
    'template-curly-spacing': ERROR,
    'use-isnan': ERROR,
    'valid-jsdoc': ERROR,
    'valid-typeof': [ERROR, { requireStringLiterals: true }],
    'vars-on-top': ERROR,
    'wrap-iife': [ERROR, 'outside', { functionPrototypeMethods: false }],
    'yield-star-spacing': [ERROR, 'after'],
    curly: [ERROR, 'all'],
    eqeqeq: [ERROR, 'always'],
    quotes: 0,
    radix: ERROR,
    semi: [ERROR, 'never'],
    yoda: ERROR,

    'lines-between-class-members': [
      ERROR,
      'always',
      { exceptAfterSingleLine: true },
    ],

    indent: [
      ERROR,
      2,
      {
        SwitchCase: 1,
      },
    ],

    'prefer-destructuring': [
      ERROR,
      {
        array: false,
        object: true,
      },
    ],
    'padded-blocks': [
      ERROR,
      {
        blocks: 'never',
        classes: 'never',
      },
    ],
    'space-before-function-paren': [
      ERROR,
      {
        anonymous: 'never',
        named: 'never',
        asyncArrow: 'always',
      },
    ],
    'no-empty-function': [
      ERROR,
      {
        allow: ['arrowFunctions', 'functions', 'methods'],
      },
    ],
    'no-useless-rename': [
      ERROR,
      {
        ignoreDestructuring: false,
        ignoreImport: false,
        ignoreExport: false,
      },
    ],
    'prefer-arrow-callback': [
      ERROR,
      {
        allowNamedFunctions: false,
        allowUnboundThis: true,
      },
    ],
    'padding-line-between-statements': [
      ERROR,
      { blankLine: 'always', prev: '*', next: ['const', 'let'] },
      { blankLine: 'any', prev: ['const', 'let'], next: ['const', 'let'] },
      { blankLine: 'always', prev: 'multiline-block-like', next: 'function' },
      {
        blankLine: 'always',
        prev: 'multiline-block-like',
        next: 'multiline-block-like',
      },
      { blankLine: 'always', prev: 'block-like', next: 'block-like' },
      { blankLine: 'always', prev: '*', next: 'class' },
      { blankLine: 'always', prev: 'class', next: '*' },
      { blankLine: 'always', prev: 'multiline-block-like', next: '*' },
      { blankLine: 'always', prev: '*', next: 'multiline-block-like' },
      { blankLine: 'always', prev: '*', next: 'default' },
      { blankLine: 'always', prev: '*', next: 'function' },
    ],

    'import/default': ERROR,
    'import/dynamic-import-chunkname': 0,
    'import/export': ERROR,
    'import/exports-last': ERROR,
    'import/extensions': [ERROR, 'never', { json: 'always' }],
    'import/first': ERROR,
    'import/group-exports': ERROR,
    'import/imports-first': ERROR,
    'import/max-dependencies': 0,
    'import/named': ERROR,
    'import/namespace': 0,
    'import/newline-after-import': ERROR,
    'import/no-absolute-path': ERROR,
    'import/no-amd': ERROR,
    'import/no-anonymous-default-export': ERROR,
    'import/no-commonjs': 0,
    'import/no-cycle': ERROR,
    'import/no-default-export': 0,
    'import/no-deprecated': ERROR,
    'import/no-duplicates': ERROR,
    'import/no-dynamic-require': 0,
    'import/no-extraneous-dependencies': ERROR,
    'import/no-internal-modules': 0,
    'import/no-mutable-exports': ERROR,
    'import/no-named-as-default': ERROR,
    'import/no-named-as-default-member': ERROR,
    'import/no-named-default': ERROR,
    'import/no-namespace': 0,
    'import/no-nodejs-modules': 0,
    'import/no-relative-parent-imports': 0,
    'import/no-restricted-paths': ERROR,
    'import/no-self-import': ERROR,
    'import/no-unassigned-import': 0,
    'import/no-unresolved': [ERROR, { commonjs: true }],
    'import/no-useless-path-segments': ERROR,
    'import/no-webpack-loader-syntax': ERROR,
    'import/order': ERROR,
    'import/prefer-default-export': 0,
    'import/unambiguous': 0,

    'flowtype/array-style-complex-type': 0,
    'flowtype/array-style-simple-type': 0,
    'flowtype/boolean-style': [ERROR, 'boolean'],
    'flowtype/define-flow-type': ERROR,
    'flowtype/delimiter-dangle': [ERROR, 'always-multiline'],
    'flowtype/generic-spacing': [ERROR, 'never'],
    'flowtype/newline-after-flow-annotation': ERROR,
    'flowtype/no-dupe-keys': ERROR,
    'flowtype/no-existential-type': 0,
    'flowtype/no-flow-fix-me-comments': 0,
    'flowtype/no-mutable-array': 0,
    'flowtype/no-primitive-constructor-types': ERROR,
    'flowtype/no-types-missing-file-annotation': ERROR,
    'flowtype/no-unused-expressions': ERROR,
    'flowtype/no-weak-types': 0,
    'flowtype/object-type-delimiter': [ERROR, 'comma'],
    'flowtype/require-exact-type': 0,
    'flowtype/require-parameter-type': 0,
    'flowtype/require-types-at-top': 0,
    'flowtype/require-valid-file-annotation': ERROR,
    'flowtype/require-variable-type': 0,
    'flowtype/semi': [ERROR, 'never'],
    'flowtype/sort-keys': ERROR,
    'flowtype/space-after-type-colon': [ERROR, 'always'],
    'flowtype/space-before-generic-bracket': [ERROR, 'never'],
    'flowtype/space-before-type-colon': [ERROR, 'never'],
    'flowtype/type-id-match': [ERROR, '^T_.*$'],
    'flowtype/type-import-style': [ERROR, 'declaration'],
    'flowtype/union-intersection-spacing': [ERROR, 'always'],
    'flowtype/use-flow-type': ERROR,
    'flowtype/valid-syntax': ERROR,

    'flowtype/require-return-type': [
      0,
      'always',
      { annotateUndefined: 'never' },
    ],

    'eslint-comments/disable-enable-pair': ERROR,
    'eslint-comments/no-aggregating-enable': ERROR,
    'eslint-comments/no-duplicate-disable': ERROR,
    'eslint-comments/no-restricted-disable': ERROR,
    'eslint-comments/no-unlimited-disable': ERROR,
    'eslint-comments/no-unused-disable': ERROR,
    'eslint-comments/no-unused-enable': ERROR,
    'eslint-comments/no-use': 0,

    'react/boolean-prop-naming': ERROR,
    'react/button-has-type': ERROR,
    'react/default-props-match-prop-types': ERROR,
    'react/destructuring-assignment': 0,
    'react/display-name': 0,
    'react/forbid-component-props': 0,
    'react/forbid-dom-props': 0,
    'react/forbid-elements': 0,
    'react/forbid-foreign-prop-types': 0,
    'react/forbid-prop-types': 0,
    'react/jsx-boolean-value': ERROR,
    'react/jsx-child-element-spacing': ERROR,
    'react/jsx-closing-bracket-location': ERROR,
    'react/jsx-closing-tag-location': 0,
    'react/jsx-curly-spacing': [ERROR, { when: 'never', children: true }],
    'react/jsx-equals-spacing': ERROR,
    'react/jsx-filename-extension': 0,
    'react/jsx-first-prop-new-line': ERROR,
    'react/jsx-handler-names': 0,
    'react/jsx-indent': [ERROR, 2],
    'react/jsx-indent-props': [ERROR, 2],
    'react/jsx-key': ERROR,
    'react/jsx-max-depth': 0,
    'react/jsx-max-props-per-line': 0,
    'react/jsx-no-bind': 0,
    'react/jsx-no-comment-textnodes': ERROR,
    'react/jsx-no-duplicate-props': ERROR,
    'react/jsx-no-literals': ERROR,
    'react/jsx-no-target-blank': ERROR,
    'react/jsx-no-undef': ERROR,
    'react/jsx-one-expression-per-line': 0,
    'react/jsx-pascal-case': ERROR,
    'react/jsx-props-no-multi-spaces': 0,
    'react/jsx-sort-default-props': ERROR,
    'react/jsx-sort-props': ERROR,
    'react/jsx-tag-spacing': [ERROR, { beforeSelfClosing: 'always' }],
    'react/jsx-uses-react': ERROR,
    'react/jsx-uses-vars': ERROR,
    'react/jsx-wrap-multilines': ERROR,
    'react/no-access-state-in-setstate': 0,
    'react/no-array-index-key': ERROR,
    'react/no-children-prop': ERROR,
    'react/no-danger': ERROR,
    'react/no-danger-with-children': ERROR,
    'react/no-deprecated': ERROR,
    'react/no-did-mount-set-state': ERROR,
    'react/no-did-update-set-state': ERROR,
    'react/no-direct-mutation-state': ERROR,
    'react/no-find-dom-node': ERROR,
    'react/no-is-mounted': ERROR,
    'react/no-multi-comp': [ERROR, { ignoreStateless: true }],
    'react/no-redundant-should-component-update': ERROR,
    'react/no-render-return-value': ERROR,
    'react/no-set-state': 0,
    'react/no-string-refs': ERROR,
    'react/no-this-in-sfc': 0,
    'react/no-typos': ERROR,
    'react/no-unescaped-entities': 0,
    'react/no-unknown-property': ERROR,
    'react/no-unsafe': 0,
    'react/no-unused-prop-types': 0,
    'react/no-unused-state': ERROR,
    'react/no-will-update-set-state': 0,
    'react/prefer-es6-class': ERROR,
    'react/prefer-stateless-function': 0,
    'react/prop-types': 0,
    'react/react-in-jsx-scope': ERROR,
    'react/require-default-props': 0,
    'react/require-optimization': 0,
    'react/require-render-return': ERROR,
    'react/self-closing-comp': ERROR,
    'react/sort-comp': ERROR,
    'react/sort-prop-types': ERROR,
    'react/style-prop-object': ERROR,
    'react/void-dom-elements-no-children': ERROR,

    'react/jsx-curly-brace-presence': [
      ERROR,
      { props: 'never', children: 'ignore' },
    ],

    'prettier/prettier': ERROR,
  },

  overrides: [
    {
      files: ['**/*.test.js', '**/helpers/*.js', '**/tests/**'],
      env: {
        jest: true,
      },
    },
    {
      files: ['**/helpers/**'],
      rules: {
        'no-console': 0,
      },
    },
  ],
}
